import{a as Gr}from"./chunk-DTNHGE5H.js";import{g as _r}from"./chunk-SDAS6MWB.js";import"./chunk-GYJWRRWW.js";var Y=!1,F=function(){for(var o=[1],B=0;B<32;++B)o[B+1]=o[B]*(B+1);function y(a){for(var v=arguments.length-1,h=a[arguments[v]],c=v;c>1;c--)a[arguments[c]]=a[arguments[c-1]];return a[arguments[1]]=h,y}function w(a,v){return a[v>>3]>>((v&7)<<2)&15}function S(a,v,h,c){var u=0;if(c<0&&(v<<=1),h>=16){a[h-1]=0;for(var f=h-2;f>=0;f--){a[f]=v%(h-f),u^=a[f],v=~~(v/(h-f));for(var g=f+1;g<h;g--)a[g]>=a[f]&&a[g]++}if(c<0&&u&1){var m=a[h-1];a[h-1]=a[h-2],a[h-2]=m}return a}for(var M=1985229328,b=4275878552,f=0;f<h-1;f++){var L=o[h-1-f],O=v/L;if(v=v%L,u^=O,O<<=2,O>=32){O=O-32,a[f]=b>>O&15;var I=(1<<O)-1;b=(b&I)+(b>>4&~I)}else{a[f]=M>>O&15;var I=(1<<O)-1;M=(M&I)+(M>>>4&~I)+(b<<28),b=b>>4}}return c<0&&u&1?(a[h-1]=a[h-2],a[h-2]=M&15):a[h-1]=M&15,a}function P(a,v,h){v=v||a.length;var c=0;if(v>=16){for(var u=0;u<v-1;u++){c*=v-u;for(var f=u+1;f<v;f++)a[f]<a[u]&&c++}return h<0?c>>1:c}for(var g=1985229328,m=4275878552,u=0;u<v-1;u++){var M=a[u]<<2;c*=v-u,M>=32?(c+=m>>M-32&15,m-=286331152<<M-32):(c+=g>>M&15,m-=286331153,g-=286331152<<M)}return h<0?c>>1:c}function H(a,v){var h,c;for(c=0,h=v-2;h>=0;--h)c^=a%(v-h),a=~~(a/(v-h));return c&1}function A(a,v,h){for(var c=Math.abs(h),u=h<0?0:a[0]%c,f=v-1;f>0;f--)u=u*c+a[f]%c;return u}function D(a,v,h,c){for(var u=Math.abs(c),f=u*h,g=1;g<h;g++)a[g]=v%u,f-=a[g],v=~~(v/u);return a[0]=(c<0?f:v)%u,a}function C(a){return a-=a>>1&1431655765,a=(a&858993459)+(a>>2&858993459),(a+(a>>4)&252645135)*16843009>>24}function sr(a,v,h,c){for(var u=-1,f=0,g=1,m=0;m<v;m++){var M=a[m];f=f*(v-m)+C(u&(1<<c[M])-1)*g,g=g*h[M]--,u&=~(1<<c[M]+h[M])}return Math.round(f/g)}function cr(a,v,h,c,u){for(var f=0;f<h;f++)for(var g=0;g<c.length;g++)if(c[g]!=0){var m=~~(u*c[g]/(h-f));if(v<m){c[g]--,a[f]=g,u=m;break}v-=m}return a}function hr(a,v,h){if(this.length=v,this.evenbase=h,a=="p")this.get=function(M){return P(M,this.length,this.evenbase)},this.set=function(M,b){return S(M,b,this.length,this.evenbase)};else if(a=="o")this.get=function(M){return A(M,this.length,this.evenbase)},this.set=function(M,b){return D(M,b,this.length,this.evenbase)};else if(a=="c"){var c=h;this.cnts=c.slice(),this.cntn=this.cnts.length,this.cums=[0];for(var u=1;u<=this.cntn;u++)this.cums[u]=this.cums[u-1]+c[u-1];this.n=this.cums[this.cntn];for(var f=this.n,g=1,u=0;u<this.cntn;u++)for(var m=1;m<=c[u];m++,f--)g*=f/m;this.x=Math.round(g),this.get=function(M){return sr(M,this.n,this.cnts.slice(),this.cums)},this.set=function(M,b){return cr(M,b,this.n,this.cnts.slice(),this.x)}}else debugger}function dr(a,v,h,c,u){for(var f=0;f<a.length;f++){var g=a[f],m=h[f]===void 0?f:h[f];if(typeof g=="number"){v[g]=~~(a[m]/u);continue}for(var M=c[f]||0,b=0;b<g.length;b++)v[g[(b+M)%g.length]]=~~(a[m][b]/u)}}function V(a,v,h,c,u){for(var f=0;f<a.length;f++){var g=a[f].length;r:for(var m=0;m<a.length+1;m++){if(m==a.length)return-1;if(a[m].length!=g)continue;for(var M=0;M<g;M++){for(var b=!0,L=0;L<g;L++)if(~~(a[m][L]/u)!=v[a[f][(L+M)%g]]){b=!1;break}if(b){h[f]=m,c[f]=M;break r}}}}return 0}function ir(a,v,h,c){var u=[a],f={},g=[];f[h(a)]=0,g[0]=1;for(var m=[],M=0;M<v.length;M++)m[M]=[];for(var b=+new Date,L=0;L<u.length;L++){L==g[g.length-1]&&g.push(u.length),L%1e4==9999&&Y&&console.log(L,"states scanned, tt=",+new Date-b);for(var O=u[L],M=0;M<v.length;M++){var I=c(O,v[M]);if(!I){m[M][L]=-1;continue}var k=h(I);k in f||(f[k]=u.length,u.push(I)),m[M][L]=f[k]}}return Y&&console.log("[move hash] "+u.length+" states generated, tt=",+new Date-b,JSON.stringify(g)),[m,f]}function gr(a,v,h,c,u,f,g,m){var M=Array.isArray(u);f=f||6,g=g||3,m=m||256,c=c||256;for(var b=0,L=h+7>>>3;b<L;b++)a[b]=-1;Array.isArray(v)||(v=[v]);for(var b=0;b<v.length;b++)a[v[b]>>3]^=15<<((v[b]&7)<<2);for(var O=0,I=0;I<=c;I++){var k=0,Q=I>=m,Z=I+1^15,$=Q?15:I,lr=Q?I:15;r:for(var K=0;K<h;K++,O>>=4){if(!(K&7)&&(O=a[K>>3],!Q&&O==-1)){K+=7;continue}if((O&15)==$){for(var z=0;z<f;z++)for(var W=K,tr=0;tr<g&&(W=M?u[z][W]:u(W,z),!(W<0));tr++)if(w(a,W)==lr){if(++k,Q){a[K>>3]^=Z<<((K&7)<<2);continue r}a[W>>3]^=Z<<((W&7)<<2)}}}if(k==0)break;Y&&console.log("[prun]",k)}}function ar(a,v,h,c,u,f){this.isSolved=a||function(){return!0},this.getPrun=v,this.doMove=h,this.N_AXIS=c,this.N_POWER=u,this.ckmv=f||or(c,function(g){return 1<<g})}var rr=ar.prototype;rr.solve=function(a,v,h,c){var u=this.solveMulti([a],v,h,c);return u==null?null:u[0]},rr.solveMulti=function(a,v,h,c){this.callback=c||function(){return!0};var u=[];r:for(var f=v;f<=h;f++){for(var g=0;g<a.length;g++)if(this.sidx=g,this.idaSearch(a[g],f,-1,u)==0)break r;this.sidx=-1}return this.sidx==-1?null:[u,this.sidx]},rr.idaSearch=function(a,v,h,c){var u=this.getPrun(a);if(u>v)return u>v+1?2:1;if(v==0)return this.isSolved(a)&&this.callback(c,this.sidx)?0:1;if(u==0&&this.isSolved(a)&&v==1)return 1;for(var f=0;f<this.N_AXIS;f++)if(!(this.ckmv[h]>>f&1))for(var g=Array.isArray(a)?a.slice():a,m=0;m<this.N_POWER&&(g=this.doMove(g,f),g!=null);m++){c.push([f,m]);var M=this.idaSearch(g,v-1,f,c);if(M==0)return 0;if(c.pop(),M==2)break}return 1};function er(a){return Gr(a)}function pr(a,v){for(var h=0,c=[],u=0;u<a;u++)c[u]=u;for(var u=0;u<a-1;u++){var f=er(a-u);y(c,u,u+f),h^=f!=0}return v&&h&&y(c,0,1),c}function or(a,v){for(var h=[],c=typeof v=="function",u=0;u<a;u++)h[u]=c?v(u):v;return h}function Sr(a,v,h,c,u,f,g){for(var m=0;m<v.length;m++)g&&(f[m]=(c[v[m]]+u[m])%g),h[m]=a[v[m]]}return{bitCount:C,getPruning:w,setNOri:D,getNOri:A,getNPerm:P,getNParity:H,Coord:hr,createMoveHash:ir,createPrun:gr,fillFacelet:dr,detectFacelet:V,rn:er,valuedArray:or,Searcher:ar,rndPerm:pr,permOriMult:Sr}}(),wr=function(){function o(e,r,n,t,l){this.cp=e&&e.slice()||[0,1,2,3,4,5],this.co=r&&r.slice()||[0,0,0,0,0,0],this.ep=n&&n.slice()||[0,1,2,3,4,5,6,7,8,9,10,11],this.uf=t&&t.slice()||[0,1,2,3,4,5,6,7,8,9,10,11],this.rl=l&&l.slice()||[0,1,2,3,4,5,6,7,8,9,10,11]}var B=0,y=9,w=18,S=27,P=36,H=45,A=54,D=63,C=[[B+0,A+0,y+0,D+0],[B+4,H+8,w+4,A+8],[B+8,D+4,S+8,H+4],[S+0,P+0,w+0,H+0],[y+4,P+8,S+4,D+8],[w+8,P+4,y+8,A+4]],sr=[[B+1,A+3],[B+3,D+1],[B+6,H+6],[S+1,P+3],[w+3,P+1],[y+6,P+6],[y+3,A+1],[y+1,D+3],[S+6,D+6],[S+3,H+1],[w+1,H+3],[w+6,A+6]],cr=[B+2,B+5,B+7,y+2,y+5,y+7,w+2,w+5,w+7,S+2,S+5,S+7],hr=[P+2,P+5,P+7,H+2,H+5,H+7,D+2,D+5,D+7,A+2,A+5,A+7];o.prototype.isEqual=function(e){for(var r=0;r<12;r++)if(this.ep[r]!=e.ep[r]||this.uf[r]!=e.uf[r]||this.rl[r]!=e.rl[r]||r<6&&(this.cp[r]!=e.cp[r]||this.co[r]!=e.co[r]))return!1;return!0},o.prototype.toFaceCube=function(e){var r=[];e=e||9;for(var n=[],t=0;t<6;t++)n[t]=this.co[t]*2;return F.fillFacelet(C,r,this.cp,n,e),F.fillFacelet(sr,r,this.ep,[],e),F.fillFacelet(cr,r,this.uf,null,e),F.fillFacelet(hr,r,this.rl,null,e),r},o.prototype.fromFacelet=function(e){for(var r=0,n=[],t=0;t<72;++t)n[t]=e[t],r+=Math.pow(16,n[t]);if(r!=2576980377)return-1;var l=[];if(F.detectFacelet(C,n,this.cp,l,9)==-1||F.detectFacelet(sr,n,this.ep,[],9)==-1)return-1;for(var i=0,t=0;t<6;t++)this.co[t]=l[t]>>1,i^=this.co[t];if(i!=0||F.getNParity(F.getNPerm(this.cp,6),6)!=0||F.getNParity(F.getNPerm(this.ep,12),12)!=0)return-1;for(var s=[3,3,3,3],t=0;t<12;t++){var p=n[cr[t]];if(!(s[p]>0))return-1;this.uf[t]=p*3+3-s[p],s[p]--}s=[3,3,3,3];for(var t=0;t<12;t++){var p=[0,1,3,2][n[hr[t]]-4];if(!(s[p]>0))return-1;this.rl[t]=p*3+3-s[p],s[p]--}if(F.getNParity(F.getNPerm(this.uf,12),12)!=0)for(var t=0;t<12;t++)this.uf[t]^=this.uf[t]<2?1:0;if(F.getNParity(F.getNPerm(this.rl,12),12)!=0)for(var t=0;t<12;t++)this.rl[t]^=this.rl[t]<2?1:0;return this},o.prototype.toString=function(e){var r=this.toFaceCube(e),n=`  U8 U7 U6 U5 U4      B8 B7 B6 B5 B4
L4   U3 U2 U1   R8  r4   B3 B2 B1   l8
L5 L1   U0   R3 R7  r5 r1   B0   l3 l7
L6 L2 L0  R0 R2 R6  r6 r2 r0  l0 l2 l6
L7 L3   F0   R1 R5  r7 r3   D0   l1 l5
L8   F1 F2 F3   R4  r8   D1 D2 D3   l4
  F4 F5 F6 F7 F8      D4 D5 D6 D7 D8`;return n=n.replace(/([UFrlDBRL])([0-8])/g,function(t,l,i){var s="UFrlDBRL".indexOf(l)*9+~~i;return"UFrlDBRL"[~~(r[s]/9)]+r[s]%9}),n},o.FtoMult=function(){for(var e=arguments[arguments.length-1]||new o,r=0;r<arguments.length;r++){for(var n=arguments[arguments.length-1-r],t=0;t<6;t++)e.co[t]=r==0?0:n.co[e.cp[t]]^e.co[t],e.cp[t]=r==0?t:n.cp[e.cp[t]];for(var t=0;t<12;t++)e.ep[t]=r==0?t:n.ep[e.ep[t]],e.uf[t]=r==0?t:n.uf[e.uf[t]],e.rl[t]=r==0?t:n.rl[e.rl[t]]}return e};function dr(){var e=new o([1,2,0,4,5,3],[0,0,0,0,0,0],[2,0,1,5,3,4,10,11,6,7,8,9],[1,2,0,7,8,6,10,11,9,4,5,3],[2,0,1,8,6,7,11,9,10,5,3,4]),r=new o([5,0,4,2,3,1],[1,1,0,1,1,0],[6,5,7,9,2,10,11,4,3,8,1,0],[5,3,4,8,6,7,2,0,1,11,9,10],[4,5,3,7,8,6,1,2,0,10,11,9]),n=o.FtoMult(e,e,null),t=o.FtoMult(r,r,null),l=o.FtoMult(n,r,e,null),i=o.FtoMult(r,e,t,null),s=[];s[0]=new o([1,2,0,3,4,5],[0,0,0,0,0,0],[2,0,1,3,4,5,6,7,8,9,10,11],[1,2,0,3,4,5,6,7,8,9,10,11],[0,1,2,3,6,7,11,9,8,5,10,4]),s[2]=new o([4,1,2,3,5,0],[1,0,0,0,1,0],[0,1,2,3,4,6,7,5,8,9,10,11],[0,1,2,4,5,3,6,7,8,9,10,11],[0,9,10,3,4,5,2,7,1,8,6,11]),s[4]=new o([0,5,2,1,4,3],[0,1,0,0,0,1],[0,1,2,3,10,5,6,7,8,9,11,4],[0,1,2,3,4,5,7,8,6,9,10,11],[5,3,2,11,4,10,6,7,8,9,0,1]),s[6]=new o([0,1,3,4,2,5],[0,0,1,1,0,0],[0,1,2,8,4,5,6,7,9,3,10,11],[0,1,2,3,4,5,6,7,8,10,11,9],[8,1,7,2,0,5,6,3,4,9,10,11]),s[8]=new o([0,1,2,5,3,4],[0,0,0,0,0,0],[0,1,2,4,5,3,6,7,8,9,10,11],[0,1,2,3,9,10,5,7,4,8,6,11],[1,2,0,3,4,5,6,7,8,9,10,11]),s[10]=new o([0,3,1,2,4,5],[0,1,1,0,0,0],[0,1,10,3,4,5,6,7,8,2,9,11],[0,6,7,3,4,5,11,9,8,2,10,1],[0,1,2,4,5,3,6,7,8,9,10,11]),s[12]=new o([5,0,2,3,4,1],[1,1,0,0,0,0],[6,1,2,3,4,5,11,7,8,9,10,0],[5,3,2,8,4,7,6,0,1,9,10,11],[0,1,2,3,4,5,6,7,8,10,11,9]),s[14]=new o([2,1,4,3,0,5],[1,0,1,0,0,0],[0,8,2,3,4,5,6,1,7,9,10,11],[11,1,10,2,0,5,6,7,8,9,3,4],[0,1,2,3,4,5,7,8,6,9,10,11]),s[16]=o.FtoMult(e,s[8],null),s[18]=o.FtoMult(i,s[10],null),s[20]=o.FtoMult(r,s[6],null),s[22]=o.FtoMult(l,s[4],null);for(var p=1;p<24;p+=2)s[p]=new o,o.FtoMult(s[p-1],s[p-1],s[p]);for(var d=[],p=0;p<24;p++)d[p]=s[p].ep.join(",");for(var U=[],R=[],G=[],q=[],j=[],_=new o,Pr=new o,vr,N=0;N<12;N++)U[N]=new o(_.cp,_.co,_.ep,_.uf,_.rl),j[N]=U[N].ep.join(","),R[N]=[],G[N]=[],_=o.FtoMult(_,e,null),N%3==2&&(_=o.FtoMult(_,r,e,null)),N%6==5&&(_=o.FtoMult(_,e,r,null));for(var p=0;p<12;p++)for(var X=0;X<12;X++){o.FtoMult(U[p],U[X],_);var x=j.indexOf(_.ep.join(","));R[p][X]=x,G[x][X]=p}for(var N=0;N<12;N++){q[N]=[];for(var X=0;X<8;X++){o.FtoMult(U[G[0][N]],s[X*2],U[N],_);var x=d.indexOf(_.ep.join(","));q[N][X]=x>>1}}o.moveCube=s,o.symCube=U,o.symMult=R,o.symMulI=G,o.symMulM=q}dr();function V(e,r,n){for(var t=[],l=o.moveCube[n][e],i=0;i<12;i++)t[i]=r[l[i]];return t}function ir(e,r){return o.FtoMult(e,o.moveCube[r],null)}function gr(e){for(var r=0,n=-1,t=0;t<12;t++)56>>e[t]&1&&(n==-1&&(n=e[t]),r+=(e[t]-n+3)%3+1<<t*2);return r}function ar(e){for(var r=0,n=0;n<12;n++)e[n]<3&&(r|=1<<n);return r}function rr(e){for(var r=[0,1,2,3,3,3,0,1,1,2,2,0],n=[[0,6,11],[1,7,8],[2,9,10],[3,4,5]],t=0,l=[-1,-1,-1,-1],i=0;i<12;i++){var s=r[e[i]],p=n[s].indexOf(e[i]);l[s]==-1&&(l[s]=p),t+=(s*4+(p-l[s]+3)%3)*Math.pow(16,i)}return t}function er(e){for(var r=0,n=0;n<12;n++)r|=~~(e[n]/3)<<n*2;return r}function pr(e){return String.fromCharCode.apply(null,e)}function or(e){return String.fromCharCode.apply(null,[].concat(e.cp,e.co))}function Sr(e,r){for(var n=[],t=0;t<r;t++)n.push(e[~~(Math.random()*e.length)]);for(var l=new o,t=0;t<n.length;t++)l=o.FtoMult(l,o.moveCube[n[t]],null);return[l,n]}function a(e){for(var r=[],n=new o,t=new o,l=0;l<e.length;l++){r[l]=1<<l;for(var i=0;i<l;i++)o.FtoMult(o.moveCube[e[l]],o.moveCube[e[i]],n),o.FtoMult(o.moveCube[e[i]],o.moveCube[e[l]],t),n.isEqual(t)&&(r[l]|=1<<i)}return r}for(var v=[0,2,22,6,16,10,12,14],h=null,c=null,u=null,f=null,g=[],m=0;m<12;m++)g.push(new o(o.symCube[m].cp,o.symCube[m].co,null,o.symCube[m].uf,null));function M(){var e=new o;h=F.createMoveHash(e.ep.slice(),v,gr,V.bind(null,"ep")),c=F.createMoveHash(e.rl.slice(),v,ar,V.bind(null,"rl"));var r=h[0][0].length,n=c[0][0].length;Y&&console.log("p1ep len="+r+" p1rl len="+n),u=a(v);var t=[];F.createPrun(t,0,r*n,14,function(l,i){var s=~~(l/r),p=l%r;return c[0][i][s]*r+h[0][i][p]},v.length,2),f=new F.Searcher(null,function(l){return F.getPruning(t,l[1]*r+l[0])},function(l,i){return[h[0][i][l[0]],c[0][i][l[1]]]},8,2,u)}function b(e){for(var r=[],n=[],t=new o,l=new o,i=0;i<12;i+=3){o.FtoMult(o.symCube[i%12],e,t);var s;for(s=0;s<12&&(o.FtoMult(t,o.symCube[s],l),l.ep[4]!=4);s++);var p=[],d=[];r.push([h[1][gr(l.ep)],c[1][ar(l.rl)]]),n.push([i,s])}return[r,n]}function L(e,r,n){for(var t=0;t<e.length;t++)e[t]=v[e[t][0]]+e[t][1];for(var l=Wr(e),t=0;t<l[0].length;t++){var i=l[0][t];e[t]=o.symMulM[o.symMulI[0][r[1]]][i>>1]*2+(i&1),n=o.FtoMult(n,o.moveCube[e[t]],null)}return r[1]=o.symMulI[r[1]][l[1]],n=o.FtoMult(g[~~(r[0]/12)],o.symCube[r[0]%12],n,o.symCube[r[1]],null),[n,e,r[0],r[1]]}var O=1e3;function I(e){f||M();var r=performance.now(),n=b(e),t=n[1];n=n[0];var l=[],i=f.solveMulti(n,0,12,function(p,d){var U=L(p.slice(),t[d].slice(),e);return l.push(U),l.length>=O});r=performance.now()-r;for(var s=0;s<l.length;s++)l[s].push(r);return l}var k=[0,12,14,8,10],Q=null,Z=null,$=null,lr={},K=null,z=null,W=11,tr=[],mr=[],Rr=[],Mr=new F.Coord("c",12,[3,3,3,3]),Xr=[[B+2,A+2,y+2,D+2],[B+5,H+7,w+5,A+7],[B+7,D+5,S+7,H+5],[S+2,P+2,w+2,H+2],[y+5,P+7,S+5,D+7],[w+7,P+5,y+7,A+5]];function Dr(e){var r=String.fromCharCode.apply(null,[].concat(e.cp,e.co));if(!(r in lr)){for(var n=[],t=0;t<6;t++)n[t]=e.co[t]*2;var l=e.toFaceCube();F.fillFacelet(Xr,l,e.cp,n,9);var i=new o().fromFacelet(l);lr[r]=er(i.uf)}return r}function Ur(e,r){for(var n=e[0],t=-1,l=1;l<12;l++)if(e[l]!=n){t=e[l];break}for(var i=r[n*4+t],l=0;l<12;l++)e[l]=~~(o.symCube[i].uf[e[l]*3]/3);return i}function Jr(e){for(var r=[],n=0;n<12;n++)r[n]=~~(e[n]/3);var t=Ur(r,tr);return Rr[Mr.get(r)]<<4|t}function Nr(){var e=new o;Q=F.createMoveHash(e.ep.slice(),k,rr,V.bind(null,"ep")),Z=F.createMoveHash(e.rl.slice(),k,er,V.bind(null,"rl")),$=F.createMoveHash(e,k,Dr,ir);for(var r=[],n=[],t=[[],[],[],[],[]],l=[],i=[],s=0;s<12;s++){var p=o.symCube[s].uf,d=~~(p.indexOf(0)/3),U=~~(p.indexOf(3)/3);tr[d*4+U]=s,i[s]=[]}r:for(var R=0;R<42e3;R++){Mr.set(r,R);for(var G=1;G<12;G++){if(r[G]>1)continue r;if(r[G]==1)break}Rr[R]=mr.length,mr.push(R)}for(var R=0;R<mr.length;R++){Mr.set(r,mr[R]);for(var q=0,G=0;G<12;G++)q|=r[G]<<G*2;l[R]=q;for(var j=0;j<k.length;j++){F.permOriMult(r,o.moveCube[k[j]].uf,n);var _=Ur(n,tr);t[j][R]=Rr[Mr.get(n)]<<4|_}}var Pr=[];for(var vr in $[1]){var N=$[1][vr];Pr[N]=lr[vr];for(var X=[],s=0;s<12;s++){for(var x=o.symCube[s],R=0;R<6;R++){var kr=vr.charCodeAt(R);X[R]=x.cp[kr],X[R+6]=x.co[kr]^vr.charCodeAt(R+6)}var q=String.fromCharCode.apply(null,X);i[s][N]=$[1][q]}}var qr=[0,0,3,4,5,6,8,0,2,3,4,5,6,8,1,2,4,4,5,6,8,1,3,4,5,6,7,8,3,3,4,5,6,7,9,4,4,5,6,7,8,9,5,5,6,7,8,9,10],fr=Q[0][0].length,Vr=Z[0][0].length,Tr=[];F.createPrun(Tr,0,fr*Vr,W-2,function(E,J){var nr=~~(E/fr),Ar=E%fr;return Z[0][J][nr]*fr+Q[0][J][Ar]},k.length,2),K=a(k),z=new F.Searcher(function(E){return l[E[3]>>4]==Pr[i[E[3]&15][E[2]]]},function(E){var J=l[E[3]>>4]^Pr[i[E[3]&15][E[2]]];J=(J|J>>1)&5592405;var nr=F.bitCount(J&12632319)*7+F.bitCount(J&4144896);return Math.max(Math.min(W,F.getPruning(Tr,E[1]*fr+E[0])),qr[nr])},function(E,J){var nr=t[J][E[3]>>4],Ar=o.symMult[nr&15][E[3]&15];return[Q[0][J][E[0]],Z[0][J][E[1]],$[0][J][E[2]],nr&-16|Ar]},k.length,2,K)}function Kr(e){z||Nr();for(var r=performance.now(),n=[],t=0;t<e.length;t++)n.push([Q[1][rr(e[t][0].ep)],Z[1][er(e[t][0].rl)],$[1][Dr(e[t][0])],Jr(e[t][0].uf)]);for(var l=z.solveMulti(n,0,25),i=l[0],s=l[1],p=e[s],d=p[0],t=0;t<i.length;t++){var U=k[i[t][0]]+i[t][1];i[t]=o.symMulM[o.symMulI[0][p[3]]][U>>1]*2+(U&1),d=o.FtoMult(d,o.moveCube[U],null)}return[d,i,p[2],p[3],s,performance.now()-r]}var Fr=[8,10,12,14],br=null,Cr=null,yr=null,Lr=null,Hr=null,Or=null;function Ir(){var e=new o;br=F.createMoveHash(e.ep.slice(),Fr,pr,V.bind(null,"ep")),Cr=F.createMoveHash(new o,Fr,or,ir),yr=[],Lr=[],F.createPrun(yr,0,81,14,br[0],4,2),F.createPrun(Lr,0,11520,14,Cr[0],4,2),Hr=a(Fr),Or=new F.Searcher(null,function(r){return Math.max(F.getPruning(yr,r[0]),F.getPruning(Lr,r[1]))},function(r,n){return[br[0][n][r[0]],Cr[0][n][r[1]]]},4,2,Hr)}function Qr(e){var r=e[0];yr||Ir();for(var n=performance.now(),t=br[1][pr(r.ep)],l=Cr[1][or(r)],i=Or.solve([t,l],0,25),s=0;s<i.length;s++){var p=Fr[i[s][0]]+i[s][1];i[s]=o.symMulM[o.symMulI[0][e[3]]][p>>1]*2+(p&1),r=o.FtoMult(r,o.moveCube[p],null)}return[r,i,e[2],e[3],performance.now()-n]}function Wr(e){for(var r=0,n=[],t=[4,5,3,2],l=[1,10,5,11],i=0;i<e.length;i++){var s=0,p=e[i]>>1,d=e[i]&1;p>=8&&(s=l[p-8],p=t[p-8]),d||(s=o.symMult[s][s]),n.push(o.symMulM[r][p]*2+d),r=o.symMult[s][r]}return[n,r]}function Br(e,r){for(var n=0;n<r.length;n++)e=o.FtoMult(e,o.moveCube[r[n]],null);return e}var Yr=["U","U'","F","F'","r","r'","l","l'","D","D'","B","B'","R","R'","L","L'"];function ur(e){for(var r=[],n=0;n<e.length;n++)r[n]=Yr[e[n]];return r.join(" ").replace(/l/g,"BL").replace(/r/g,"BR")}function Er(){}Er.prototype.solveFto=function(e,r){if(!f){var n=performance.now();M(),Nr(),Ir(),Y&&console.log("[ftosolver] init time:",performance.now()-n)}var t=I(e),l=Kr(t),i=t[l[4]];this.sol1=i[1].slice(),this.tt1=i[4];var s=i[2];this.sol2=l[1].slice(),this.tt2=l[5],l[0]=o.FtoMult(g[o.symMulI[0][~~(s/12)]],l[0],null);var p=Qr(l);this.sol3=p[1].slice(),this.tt3=p[4];var d=[].concat(this.sol1,this.sol2,this.sol3);if(r){for(var U=0;U<d.length;U++)d[U]^=1;d.reverse()}return ur(d)};var T=new Er;function Zr(e){var r=Sr([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],e),n=ur(r[1].slice()),t=T.solveFto(r[0]),l=r[0];Y&&console.log(`scrambled state
`,l.toString(1)),l=Br(l,T.sol1),Y&&console.log("after phase 1 ("+ur(T.sol1)+`):
`,l.toString(1)),l=Br(l,T.sol2),Y&&console.log("after phase 2 ("+ur(T.sol2)+`):
`,l.toString(1)),l=Br(l,T.sol3),Y&&console.log("after phase 3 ("+ur(T.sol3)+`):
`,l.toString(1));var i=l.toFaceCube(),s=!0;r:for(var p=0;p<8;p++)for(var d=1;d<9;d++)if(i[p*9+d]!=i[p*9]){s=!1;break r}return s||console.log("error, FTO not solved!!!"),Y&&console.log(n,t),[T.sol1.length+T.sol2.length+T.sol3.length,T.sol1.length,T.sol2.length,T.sol3.length,T.tt1,T.tt2,T.tt3]}function $r(e){e=e||100;for(var r=[],n=0;n<e;n++){for(var t=Zr(200),l=0;l<t.length;l++)r[l]=(r[l]||0)+t[l];console.log("AvgL: ",r[0]/(n+1))}console.log("AvgL1:",r[1]/e),console.log("AvgL2:",r[2]/e),console.log("AvgL3:",r[3]/e),console.log("AvgT1:",r[4]/e),console.log("AvgT2:",r[5]/e),console.log("AvgT3:",r[6]/e)}function zr(e,r){var n=new o;return n.fromFacelet(e)==-1?"FTO Solver ERROR!":T.solveFto(n,r)}return{solveFacelet:zr,FtoCubie:o,testbench:$r}}(),jr=function(){function o(y,w,S){var P=new wr.FtoCubie;return y||(P.ep=F.rndPerm(12,!0)),w||(P.uf=F.rndPerm(12,!0),P.rl=F.rndPerm(12,!0)),S||(P.cp=F.rndPerm(6,!0),F.setNOri(P.co,F.rn(32),6,-2)),new _r(wr.solveFacelet(P.toFaceCube(),!0))}function B(y){var w=!1,S=y.length>>1,P=new wr.FtoCubie,H,A,D;do{H=F.rndPerm(S,!0),A=F.setNOri([],F.rn(1<<S>>1),S,-2),D=F.rndPerm(y.length,!0),w=!0;for(var C=0;C<y.length;C++)w=w&&~~(y[D[C]]/3)==~~(y[C]/3);for(var C=0;C<S;C++)w=w&&H[C]==C&&A[C]==0}while(w);for(var C=0;C<S;C++)P.cp[C]=H[C],P.co[C]=A[C];for(var C=0;C<y.length;C++)P.uf[y[C]]=y[D[C]];return wr.solveFacelet(P.toFaceCube(),!0)}return{getRandomScramble:o.bind(null,!1,!1,!1)}}();function ee(){return jr.getRandomScramble()}export{ee as getRandomFTOScramble};
