import{g as u}from"./chunk-SDAS6MWB.js";function S(g,b){let s=[],n=[];for(let t of b.split(`
`)){let a=t.split(" ");if(!t.startsWith("SetOrder ")){if(t.startsWith("Alg ")){let e=u.fromString(t.substring(4));n.push({alg:e,transformation:g.algToTransformation(e)})}else if(t.startsWith("SubgroupSizes "))for(let e=1;e<a.length;e++)s.push(parseInt(a[e]))}}let h={ordering:new Array(s.length)},f=[],l=0;f.push(0);let d=u.fromString(""),D=g.identityTransformation();for(let t=0;t<s.length;t++)l+=s[t],f.push(l),n.splice(l-1,0,{alg:d,transformation:D});if(n.length!==l)throw Error(`Bad sgs; expected ${l-s.length} algs but saw ${n.length-s.length}`);let p={};for(let t of g.definition.orbits)p[t.orbitName]=new Array(t.numPieces).fill(!1);for(let t=s.length-1;t>=0;t--){let a=[];for(let o=f[t];o<f[t+1];o++){let m=n[o].transformation;for(let i of g.definition.orbits)for(let r=0;r<i.numPieces;r++)(m.transformationData[i.orbitName].permutation[r]!==r||m.transformationData[i.orbitName].orientationDelta[r]!==0)&&(p[i.orbitName][r]||(a.push({orbitName:i.orbitName,permutationIdx:r}),p[i.orbitName][r]=!0))}let e={};for(let o=f[t];o<f[t+1];o++){let m=n[o].transformation.invert(),i="";for(let r=0;r<a.length;r++){let c=a[r];i=`${i} ${m.transformationData[c.orbitName].permutation[c.permutationIdx]} ${m.transformationData[c.orbitName].orientationDelta[c.permutationIdx]}`}e[i]=n[o],n[o].alg=n[o].alg.invert(),n[o].transformation=n[o].transformation.invert()}h.ordering[t]={pieceOrdering:a,lookup:e}}return h}export{S as a};
